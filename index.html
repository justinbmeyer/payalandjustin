<!DOCTYPE html>
<html>
<head>
<title>Payal and Justin's Wedding</title>
<link rel="stylesheet" type="text/css" href="style.css"/>
</head>
<body>
	<div id='background'></div>
	<h1>Save the date!</h1>
	<div id='left'>
		<div class='box'>
			August 10th, 2013 at 
			<a href='https://maps.google.com/maps?q=400+S.+State+Street,+60605&hnear=400+S+State+St,+Chicago,+Cook,+Illinois+60605&gl=us&t=m&z=16'>Harold Washington Library</a>.
			More details coming soon.
		</div>
	</div>
	<script src='https://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.js'></script>
	<script>
(function(){
var images = ['fireworks-clean.jpg','ferris.jpg','scooter.jpg','phuket.jpg','halloween.jpg'],
	deferreds = [],
	getDeferred = function(i){
		if(deferreds[i]){
			return deferreds[i];
		}
		deferreds[i] = $.Deferred();
		var image = new Image();
		image.onload = function(){
			deferreds[i].resolve(image)
		}
		image.src =images[i];
		return deferreds[i];
	};
	;


var showing = 0,
	transition = function(){
		getDeferred(showing).then(function(img){
			showing++;
			if(showing == images.length){
				showing = 0;
			}
			getDeferred(showing);
			$("#background").css("background-image",'url('+img.src+')')
				.fadeIn('slow',function(){
					setTimeout(function(){
						getDeferred(showing).then(function(){
							$("#background").fadeOut('slow',function(){
								transition();
							})
						})
					},4000)
				})
			})
	};
	transition();

})();
	</script>
</body>
</html>